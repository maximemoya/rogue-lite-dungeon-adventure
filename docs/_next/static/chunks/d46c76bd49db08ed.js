(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,5822,(e,t,r)=>{"use strict";function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,s=Array(t);r<t;r++)s[r]=e[r];return s}function n(e,t){if(e){if("string"==typeof e)return s(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return s(e,t)}}function i(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var s=r.call(e,t||"default");if("object"!=typeof s)return s;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}Object.defineProperty(r,"__esModule",{value:!0});r.Event=function(){var e;function t(){var e,r;if(!(this instanceof t))throw TypeError("Cannot call a class as a function");e="subscribers",r=new Set,(e=i(e))in this?Object.defineProperty(this,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):this[e]=r}return e=[{key:"onSubscribe",get:function(){return this._onSubscribe||(this._onSubscribe=new t),this._onSubscribe}},{key:"onUnsubscribe",get:function(){return this._onUnsubscribe||(this._onUnsubscribe=new t),this._onUnsubscribe}},{key:"subscribe",value:function(e){var t,r=this;return this.subscribers.add(e),null==(t=this._onSubscribe)||t.emit(e),function(){return r.unsubscribe(e)}}},{key:"unsubscribe",value:function(e){var t;this.subscribers.delete(e),null==(t=this._onUnsubscribe)||t.emit(e)}},{key:"clear",value:function(){if(this._onUnsubscribe){var e,t=function(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=n(e))){r&&(e=r);var s=0,i=function(){};return{s:i,n:function(){return s>=e.length?{done:!0}:{done:!1,value:e[s++]}},e:function(e){throw e},f:i}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,l=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){l=!0,o=e},f:function(){try{a||null==r.return||r.return()}finally{if(l)throw o}}}}(this.subscribers);try{for(t.s();!(e=t.n()).done;){var r=e.value;this._onUnsubscribe.emit(r)}}catch(e){t.e(e)}finally{t.f()}}this.subscribers.clear()}},{key:"emit",value:function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];this.subscribers.forEach(function(e){return e.apply(void 0,t)})}},{key:"emitAsync",value:function(){for(var e,t=arguments.length,r=Array(t),i=0;i<t;i++)r[i]=arguments[i];return Promise.all(((function(e){if(Array.isArray(e))return s(e)})(e=this.subscribers)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||n(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).map(function(e){return e.apply(void 0,r)}))}}],function(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,i(s.key),s)}}(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}()},17747,(e,t,r)=>{"use strict";t.exports=e.r(5822)},77757,47830,11742,e=>{"use strict";let t;e.i(47167),e.s(["BASE_PATH",0,"/rogue-lite-dungeon-adventure","BG_COLOR",0,"#1a1a1a","CANVAS_HEIGHT",0,512,"CANVAS_WIDTH",0,1024,"FALLBACK_TO_ASCII",0,!0,"FONT_SIZE",0,16,"GRID_HEIGHT",0,35,"GRID_WIDTH",0,70,"MAX_INVENTORY_SIZE",0,10,"SPRITE_SIZE",0,32,"VIEWPORT_HEIGHT",0,16,"VIEWPORT_WIDTH",0,32],77757);var r,s,n=e.i(17747);function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,s=Array(t);r<t;r++)s[r]=e[r];return s}function o(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var s=r.call(e,t||"default");if("object"!=typeof s)return s;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}function a(e,t,r){return(t=o(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}r=Symbol.iterator;var l=function(){var e;function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(!(this instanceof t))throw TypeError("Cannot call a class as a function");a(this,"_version",0),a(this,"onEntityAdded",new n.Event),a(this,"onEntityRemoved",new n.Event),a(this,"entityPositions",new Map),this._entities=e,this.add=this.add.bind(this),this.remove=this.remove.bind(this);for(var r=0;r<e.length;r++)this.entityPositions.set(e[r],r)}return e=[{key:"version",get:function(){return this._version}},{key:"entities",get:function(){return this._entities}},{key:r,value:function(){var e=this,t=this._entities.length,r={value:void 0,done:!1};return{next:function(){return r.value=e._entities[--t],r.done=t<0,r}}}},{key:"size",get:function(){return this.entities.length}},{key:"first",get:function(){return this.entities[0]}},{key:"has",value:function(e){return this.entityPositions.has(e)}},{key:"add",value:function(e){return e&&!this.has(e)&&(this.entities.push(e),this.entityPositions.set(e,this.entities.length-1),this._version++,this.onEntityAdded.emit(e)),e}},{key:"remove",value:function(e){if(this.has(e)){this.onEntityRemoved.emit(e);var t=this.entityPositions.get(e);this.entityPositions.delete(e);var r=this.entities[this.entities.length-1];r!==e&&(this.entities[t]=r,this.entityPositions.set(r,t)),this.entities.pop(),this._version++}return e}},{key:"clear",value:function(){var e,t=function(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return i(e,void 0);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return i(e,void 0)}}(e))){r&&(e=r);var s=0,n=function(){};return{s:n,n:function(){return s>=e.length?{done:!0}:{done:!1,value:e[s++]}},e:function(e){throw e},f:n}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,l=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){l=!0,o=e},f:function(){try{a||null==r.return||r.return()}finally{if(l)throw o}}}}(this);try{for(t.s();!(e=t.n()).done;){var r=e.value;this.remove(r)}}catch(e){t.e(e)}finally{t.f()}}}],function(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,o(s.key),s)}}(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}(),c=new WeakMap,p=0,d=function(e){var t=c.get(e);return void 0!==t?t:(c.set(e,p),p++)};function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,s=Array(t);r<t;r++)s[r]=e[r];return s}function m(e,t){if(e){if("string"==typeof e)return u(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return u(e,t)}}function f(e){return function(e){if(Array.isArray(e))return u(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||m(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function b(){return(b="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var s=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=y(e)););return e}(e,t);if(s){var n=Object.getOwnPropertyDescriptor(s,t);return n.get?n.get.call(arguments.length<3?e:r):n.value}}).apply(this,arguments)}function h(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=m(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var s=0,n=function(){};return{s:n,n:function(){return s>=e.length?{done:!0}:{done:!1,value:e[s++]}},e:function(e){throw e},f:n}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,a=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return o=e.done,e},e:function(e){a=!0,i=e},f:function(){try{o||null==r.return||r.return()}finally{if(a)throw i}}}}function g(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var s=r.call(e,t||"default");if("object"!=typeof s)return s;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}function E(e,t,r){return(t=g(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function x(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,s)}return r}function O(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?x(Object(r),!0).forEach(function(t){E(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):x(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function A(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}function R(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,g(s.key),s)}}function N(e,t,r){return t&&R(e.prototype,t),r&&R(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function v(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function T(e,t){return(T=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function _(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&T(e,t)}function S(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var r,s=y(e);r=t?Reflect.construct(s,arguments,y(this).constructor):s.apply(this,arguments);if(r&&("object"==typeof r||"function"==typeof r))return r;if(void 0!==r)throw TypeError("Derived constructors may only return object or undefined");return v(this)}}var M=function(e){_(r,e);var t=S(r);function r(){var e,s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return A(this,r),E(v(e=t.call(this,s)),"queries",new Set),E(v(e),"entityToId",new Map),E(v(e),"idToEntity",new Map),E(v(e),"nextId",0),e.onEntityAdded.subscribe(function(t){e.reindex(t)}),e.onEntityRemoved.subscribe(function(t){if(e.queries.forEach(function(e){return e.remove(t)}),e.entityToId.has(t)){var r=e.entityToId.get(t);e.idToEntity.delete(r),e.entityToId.delete(t)}}),e}return N(r,[{key:"update",value:function(e){function t(t,r,s){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e,t,r){if("function"==typeof t){var s=t(e);s&&Object.assign(e,s)}else"string"==typeof t?e[t]=r:t&&Object.assign(e,t);return this.reindex(e),e})},{key:"addComponent",value:function(e,t,r){void 0===e[t]&&(e[t]=r,this.reindex(e))}},{key:"removeComponent",value:function(e,t){if(void 0!==e[t]){if(this.has(e)){var r=O({},e);delete r[t],this.reindex(e,r)}delete e[t]}}},{key:"query",value:function(e){var t,r,s={with:D((t=e).with),without:D(t.without),predicates:f(new Set(t.predicates))},n=H(s),i=h(this.queries);try{for(i.s();!(r=i.n()).done;){var o=r.value;if(o.key===n)return o}}catch(e){i.e(e)}finally{i.f()}var a=new I(this,s);return this.queries.add(a),a}},{key:"with",value:function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return this.query({with:t,without:[],predicates:[]})}},{key:"without",value:function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return this.query({with:[],without:t,predicates:[]})}},{key:"where",value:function(e){return this.query({with:[],without:[],predicates:[e]})}},{key:"reindex",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e;if(this.has(e)){var r,s=h(this.queries);try{for(s.s();!(r=s.n()).done;)r.value.evaluate(e,t)}catch(e){s.e(e)}finally{s.f()}}}},{key:"id",value:function(e){if(this.has(e)){if(!this.entityToId.has(e)){var t=this.nextId++;this.entityToId.set(e,t),this.idToEntity.set(t,e)}return this.entityToId.get(e)}}},{key:"entity",value:function(e){return this.idToEntity.get(e)}}]),r}(l);s=Symbol.iterator;var I=function(e){_(r,e);var t=S(r);function r(e,s){var n;return A(this,r),E(v(n=t.call(this)),"_isConnected",!1),n.world=e,n.config=s,n.key=H(s),n.onEntityAdded.onSubscribe.subscribe(function(){return n.connect()}),n.onEntityRemoved.onSubscribe.subscribe(function(){return n.connect()}),n}return N(r,[{key:"isConnected",get:function(){return this._isConnected}},{key:"entities",get:function(){return this._isConnected||this.connect(),b(y(r.prototype),"entities",this)}},{key:s,value:function(){return this._isConnected||this.connect(),b(y(r.prototype),Symbol.iterator,this).call(this)}},{key:"connect",value:function(){if(!this._isConnected){this._isConnected=!0;var e,t=h(this.world);try{for(t.s();!(e=t.n()).done;){var r=e.value;this.evaluate(r)}}catch(e){t.e(e)}finally{t.f()}}return this}},{key:"disconnect",value:function(){return this._isConnected=!1,this}},{key:"with",value:function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return this.world.query(O(O({},this.config),{},{with:[].concat(f(this.config.with),t)}))}},{key:"without",value:function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return this.world.query(O(O({},this.config),{},{without:[].concat(f(this.config.without),t)}))}},{key:"where",value:function(e){return this.world.query(O(O({},this.config),{},{predicates:[].concat(f(this.config.predicates),[e])}))}},{key:"want",value:function(e){return this.config.with.every(function(t){return void 0!==e[t]})&&this.config.without.every(function(t){return void 0===e[t]})&&this.config.predicates.every(function(t){return t(e)})}},{key:"evaluate",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e;if(this.isConnected){var r=this.want(t),s=this.has(e);r&&!s?this.add(e):!r&&s&&this.remove(e)}}}]),r}(l),D=function(e){return f(new Set(e.sort().filter(function(e){return!!e&&""!==e})))};function H(e){return"".concat(e.with.join(","),":").concat(e.without.join(","),":").concat(e.predicates.map(function(e){return d(e)}).join(","))}var L=[];function P(e){L.push(e)}function C(){L.length=0}P.clear=C,P.flush=function(){L.forEach(function(e){return e()}),C()};let w=new M;e.s(["world",0,w],47830);var j=e.i(71645);let k=e=>{let t,r=new Set,s=(e,s)=>{let n="function"==typeof e?e(t):e;if(!Object.is(n,t)){let e=t;t=(null!=s?s:"object"!=typeof n||null===n)?n:Object.assign({},t,n),r.forEach(r=>r(t,e))}},n=()=>t,i={setState:s,getState:n,getInitialState:()=>o,subscribe:e=>(r.add(e),()=>r.delete(e))},o=t=e(s,n,i);return i},F=e=>{let t=e?k(e):k,r=e=>(function(e,t=e=>e){let r=j.default.useSyncExternalStore(e.subscribe,j.default.useCallback(()=>t(e.getState()),[e,t]),j.default.useCallback(()=>t(e.getInitialState()),[e,t]));return j.default.useDebugValue(r),r})(t,e);return Object.assign(r,t),r},G=(t=e=>({assetsLoaded:!1,hp:100,maxHp:100,attack:0,defense:0,log:[],currentTurn:0,currentFloor:1,gameStatus:"PLAYING",level:1,currentXp:0,nextLevelXp:100,totalXp:0,currencies:{gold:0,souls:0},lastHitTime:0,runInitialized:!1,renderMode:"sprites",isStairMenuOpen:!1,stairType:null,deathStats:null,setAssetsLoaded:t=>e({assetsLoaded:t}),triggerHit:()=>e({lastHitTime:Date.now()}),setRunInitialized:t=>e({runInitialized:t}),setStairMenuOpen:(t,r)=>e({isStairMenuOpen:t,stairType:r}),setDeathStats:t=>e({deathStats:t}),nextFloor:()=>e(e=>({currentFloor:e.currentFloor+1})),setFloor:t=>e({currentFloor:t}),setGameStatus:t=>e({gameStatus:t}),setHp:t=>e({hp:t}),setMaxHp:t=>e({maxHp:t}),setStats:({attack:t,defense:r})=>e({attack:t,defense:r}),addLog:(t,r="white")=>e(e=>({log:[...e.log,{text:t,color:r,turn:e.currentTurn}].slice(-50)})),clearLog:()=>e({log:[]}),incrementTurn:()=>e(e=>({currentTurn:e.currentTurn+1})),setExperience:t=>e({level:t.level,currentXp:t.currentXp,nextLevelXp:t.nextLevelXp,totalXp:t.totalXp}),setCurrencies:t=>e({currencies:t}),toggleRenderMode:()=>e(e=>({renderMode:"ascii"===e.renderMode?"sprites":"ascii"}))}))?F(t):F;e.s(["useGameStore",0,G],11742)},5302,26576,54962,e=>{"use strict";function t(){return{version:"1.0.0",lastSaved:Date.now(),createdAt:Date.now(),currencies:{gold:0,souls:0},persistentStats:{maxHp:0,attack:0,defense:0,inventorySlots:0},unlockedEquipment:["SWORD_COPPER","ARMOR_CLOTH_LIGHT","HELMET_CLOTH_LIGHT","SHIELD_WOOD_LIGHT"],unlockedConsumables:["FOOD_BREAD","FOOD_APPLE","FOOD_MEAT","FOOD_CHEESE","FOOD_STEW","POTION_HEAL_TINY","POTION_HEAL_SMALL"],upgradedEquipment:{},unlockedAbilities:[],stats:{totalRuns:0,totalDeaths:0,deepestFloor:0,totalGoldEarned:0,totalSoulsEarned:0,bossesKilled:0,monstersKilled:0,totalPlaytime:0},startingInventory:[]}}e.i(47167);let r=window.__DEBUG__;function s(...e){r&&console.log(...e)}function n(...e){console.error(...e)}{let e=window;e.__enableDebug=()=>{e.__DEBUG__=!0,console.log("Debug mode enabled. Reload the page to see debug logs.")},e.__disableDebug=()=>{e.__DEBUG__=!1,console.log("Debug mode disabled.")}}e.s(["debugError",()=>n,"debugLog",()=>s],26576);let i="maximeRogueLite_save",o="1.0.0";function a(){try{let r=localStorage.getItem(i);if(!r)return s("[SaveSystem] Aucune sauvegarde trouvée, création d'une nouvelle sauvegarde"),t();let n=JSON.parse(r);if(n.version!==o){var e;return console.warn(`Version de sauvegarde diff\xe9rente : ${n.version} vs ${o}. Tentative de migration...`),e=n,s(`[SaveSystem] Migration de la sauvegarde de ${e.version} vers ${o}`),c(e)}let a=c(n);return s("[SaveSystem] Sauvegarde chargée avec succès",{gold:a.currencies.gold,souls:a.currencies.souls,deepestFloor:a.stats.deepestFloor}),a}catch(e){return n("[SaveSystem] Échec du chargement de la sauvegarde :",e),window.confirm("Le fichier de sauvegarde semble corrompu. Voulez-vous réinitialiser votre progression ?"),t()}}function l(e){try{e.lastSaved=Date.now(),e.version=o;let t=JSON.stringify(e,null,2),r=new Blob([t]).size/1024;r>1024&&console.warn(`Save size is large: ${r.toFixed(2)} KB`),localStorage.setItem(i,t),s("[SaveSystem] Sauvegarde réussie",{size:`${r.toFixed(2)} KB`,timestamp:new Date(e.lastSaved).toLocaleString()})}catch(e){n("[SaveSystem] Échec de la sauvegarde :",e),alert("Échec de la sauvegarde de la progression. Veuillez vérifier les paramètres de votre navigateur et l'espace disponible.")}}function c(e){let r=t(),s=(e,t)=>"number"==typeof e&&!isNaN(e)&&isFinite(e)?e:t,n=(e,t)=>Array.isArray(e)?e:t,i=e=>e.map(e=>"ARMOR_CLOTH"===e?"ARMOR_CLOTH_LIGHT":e);return{version:e.version||r.version,lastSaved:s(e.lastSaved,r.lastSaved),createdAt:s(e.createdAt,r.createdAt),currencies:{gold:Math.max(0,s(e.currencies?.gold,0)),souls:Math.max(0,s(e.currencies?.souls,0))},persistentStats:{maxHp:Math.max(0,s(e.persistentStats?.maxHp,0)),attack:Math.max(0,s(e.persistentStats?.attack,0)),defense:Math.max(0,s(e.persistentStats?.defense,0)),inventorySlots:Math.max(0,s(e.persistentStats?.inventorySlots,0))},unlockedEquipment:i(n(e.unlockedEquipment,r.unlockedEquipment)),unlockedConsumables:n(e.unlockedConsumables,r.unlockedConsumables),upgradedEquipment:e.upgradedEquipment||{},unlockedAbilities:n(e.unlockedAbilities,r.unlockedAbilities),stats:{totalRuns:Math.max(0,s(e.stats?.totalRuns,0)),totalDeaths:Math.max(0,s(e.stats?.totalDeaths,0)),deepestFloor:Math.max(0,s(e.stats?.deepestFloor,0)),totalGoldEarned:Math.max(0,s(e.stats?.totalGoldEarned,0)),totalSoulsEarned:Math.max(0,s(e.stats?.totalSoulsEarned,0)),bossesKilled:Math.max(0,s(e.stats?.bossesKilled,0)),monstersKilled:Math.max(0,s(e.stats?.monstersKilled,0)),totalPlaytime:Math.max(0,s(e.stats?.totalPlaytime,0))},startingInventory:i(n(e.startingInventory,r.startingInventory))}}function p(){window.confirm("Êtes-vous sûr de vouloir réinitialiser TOUTE la progression ? Cette action est irréversible !")&&(localStorage.removeItem(i),s("[SaveSystem] Réinitialisation de la sauvegarde terminée"),window.location.reload())}function d(){try{let e=a(),t=JSON.stringify(e,null,2),r=new Blob([t],{type:"application/json"}),n=URL.createObjectURL(r),i=document.createElement("a");i.href=n,i.download=`maximeRogueLite_save_${Date.now()}.json`,i.click(),URL.revokeObjectURL(n),s("[SaveSystem] Sauvegarde exportée avec succès")}catch(e){n("[SaveSystem] Échec de l'exportation de la sauvegarde :",e)}}e.s(["exportSave",()=>d,"loadSave",()=>a,"resetSave",()=>p,"saveToDisk",()=>l],5302);let u={POTION_HEAL_TINY:{id:"POTION_HEAL_TINY",name:"Fiole de Soin Mineure",type:"POTION",rarity:"COMMON",description:"Restaure 15 HP",char:"!",color:"#ffc0cb",sprite:{path:"/assets/sprites/items/consumables/potion.png"},consumable:{effect:"HEAL_HP",amount:15}},POTION_HEAL_SMALL:{id:"POTION_HEAL_SMALL",name:"Potion de Soin Mineure",type:"POTION",rarity:"COMMON",description:"Restaure 30 HP",char:"!",color:"#ff66cc",sprite:{path:"/assets/sprites/items/consumables/potion.png"},consumable:{effect:"HEAL_HP",amount:30}},POTION_HEAL_MEDIUM:{id:"POTION_HEAL_MEDIUM",name:"Potion de Soin",type:"POTION",rarity:"UNCOMMON",description:"Restaure 50 HP",char:"!",color:"#ff0099",sprite:{path:"/assets/sprites/items/consumables/potion.png"},consumable:{effect:"HEAL_HP",amount:50}},POTION_HEAL_LARGE:{id:"POTION_HEAL_LARGE",name:"Potion de Soin Majeure",type:"POTION",rarity:"RARE",description:"Restaure 75 HP",char:"!",color:"#cc0066",sprite:{path:"/assets/sprites/items/consumables/potion.png"},consumable:{effect:"HEAL_HP",amount:75}},POTION_HEAL_FULL:{id:"POTION_HEAL_FULL",name:"Élixir de Soin Complet",type:"POTION",rarity:"LEGENDARY",description:"Restaure 100% HP",char:"!",color:"#ff00ff",sprite:{path:"/assets/sprites/items/consumables/potion.png"},consumable:{effect:"HEAL_HP",amount:9999}},POTION_STRENGTH:{id:"POTION_STRENGTH",name:"Potion de Force",type:"POTION",rarity:"RARE",description:"Augmente ATK de 1 de manière permanente",char:"!",color:"#ff6600",sprite:{path:"/assets/sprites/items/consumables/potion.png"},consumable:{effect:"BOOST_ATK",amount:1}},POTION_DEFENSE:{id:"POTION_DEFENSE",name:"Potion de Défense",type:"POTION",rarity:"RARE",description:"Augmente DEF de 1 de manière permanente",char:"!",color:"#4169e1",sprite:{path:"/assets/sprites/items/consumables/potion.png"},consumable:{effect:"BOOST_DEF",amount:1}},POTION_INVENTORY_EXPAND:{id:"POTION_INVENTORY_EXPAND",name:"Potion d'Extension d'Inventaire",type:"POTION",rarity:"RARE",description:"+1 slot d'inventaire permanent",char:"!",color:"#00ced1",sprite:{path:"/assets/sprites/items/consumables/potion.png"},consumable:{effect:"EXPAND_INVENTORY",amount:1}},FOOD_APPLE:{id:"FOOD_APPLE",name:"Pomme",type:"FOOD",rarity:"COMMON",description:"Restaure 10 HP",char:"%",color:"#ff0000",sprite:{path:"/assets/sprites/items/consumables/food.png"},consumable:{effect:"HEAL_HP",amount:10}},FOOD_BREAD:{id:"FOOD_BREAD",name:"Pain Rassis",type:"FOOD",rarity:"COMMON",description:"Restaure 5 HP",char:"%",color:"#d2691e",sprite:{path:"/assets/sprites/items/consumables/food.png"},consumable:{effect:"HEAL_HP",amount:5}},FOOD_CHEESE:{id:"FOOD_CHEESE",name:"Fromage",type:"FOOD",rarity:"COMMON",description:"Restaure 20 HP",char:"%",color:"#ffff99",sprite:{path:"/assets/sprites/items/consumables/food.png"},consumable:{effect:"HEAL_HP",amount:20}},FOOD_MEAT:{id:"FOOD_MEAT",name:"Viande Séchée",type:"FOOD",rarity:"COMMON",description:"Restaure 15 HP",char:"%",color:"#8b4513",sprite:{path:"/assets/sprites/items/consumables/food.png"},consumable:{effect:"HEAL_HP",amount:15}},FOOD_STEW:{id:"FOOD_STEW",name:"Ragoût",type:"FOOD",rarity:"UNCOMMON",description:"Restaure 30 HP",char:"%",color:"#cd853f",sprite:{path:"/assets/sprites/items/consumables/food.png"},consumable:{effect:"HEAL_HP",amount:30}},FOOD_ROAST:{id:"FOOD_ROAST",name:"Rôti de Sanglier",type:"FOOD",rarity:"UNCOMMON",description:"Restaure 40 HP",char:"%",color:"#8b4513",sprite:{path:"/assets/sprites/items/consumables/food.png"},consumable:{effect:"HEAL_HP",amount:40}},FOOD_FEAST:{id:"FOOD_FEAST",name:"Festin Royal",type:"FOOD",rarity:"RARE",description:"Restaure 50 HP",char:"%",color:"#daa520",sprite:{path:"/assets/sprites/items/consumables/food.png"},consumable:{effect:"HEAL_HP",amount:50}},ANTIDOTE_POISON:{id:"ANTIDOTE_POISON",name:"Antidote",type:"POTION",rarity:"UNCOMMON",description:"Neutralise le poison",char:"!",color:"#00ff00",sprite:{path:"/assets/sprites/items/consumables/potion.png"},consumable:{effect:"CURE_POISON",amount:0}},CURE_PARALYSIS:{id:"CURE_PARALYSIS",name:"Élixir de Mobilité",type:"POTION",rarity:"UNCOMMON",description:"Guérit la paralysie",char:"!",color:"#ffff00",sprite:{path:"/assets/sprites/items/consumables/potion.png"},consumable:{effect:"CURE_PARALYSIS",amount:0}},POTION_REGENERATION:{id:"POTION_REGENERATION",name:"Potion de Régénération",type:"POTION",rarity:"RARE",description:"Régénère 10 HP par tour pendant 10 tours (100 HP total)",char:"!",color:"#32cd32",sprite:{path:"/assets/sprites/items/consumables/potion.png"},consumable:{effect:"APPLY_REGEN",amount:10}},ELIXIR_CLARITY:{id:"ELIXIR_CLARITY",name:"Élixir de Clarté",type:"POTION",rarity:"UNCOMMON",description:"Guérit la confusion",char:"!",color:"#9370db",sprite:{path:"/assets/sprites/items/consumables/potion.png"},consumable:{effect:"CURE_CONFUSION",amount:0}},BANDAGE:{id:"BANDAGE",name:"Bandage",type:"MISC",rarity:"COMMON",description:"Stoppe les saignements",char:"+",color:"#ffffff",sprite:{path:"/assets/sprites/items/consumables/potion.png"},consumable:{effect:"CURE_BLEEDING",amount:0}},BALM_SOOTHING:{id:"BALM_SOOTHING",name:"Baume Apaisant",type:"POTION",rarity:"UNCOMMON",description:"Éteint les flammes",char:"!",color:"#4169e1",sprite:{path:"/assets/sprites/items/consumables/potion.png"},consumable:{effect:"CURE_BURNING",amount:0}},WATER_FIERY:{id:"WATER_FIERY",name:"Eau Flamboyante",type:"POTION",rarity:"UNCOMMON",description:"Réchauffe et dégèle le corps",char:"!",color:"#ff6347",sprite:{path:"/assets/sprites/items/consumables/potion.png"},consumable:{effect:"CURE_FROZEN",amount:0}},POTION_STRENGTH_TEMP:{id:"POTION_STRENGTH_TEMP",name:"Potion de Force (Temporaire)",type:"POTION",rarity:"RARE",description:"Augmente ATK de 5 pendant 8 tours",char:"!",color:"#dc143c",sprite:{path:"/assets/sprites/items/consumables/potion.png"},consumable:{effect:"APPLY_STRENGTH_BUFF",amount:8}},POTION_DEFENSE_TEMP:{id:"POTION_DEFENSE_TEMP",name:"Potion de Protection (Temporaire)",type:"POTION",rarity:"RARE",description:"Augmente DEF de 5 pendant 8 tours",char:"!",color:"#4682b4",sprite:{path:"/assets/sprites/items/consumables/potion.png"},consumable:{effect:"APPLY_DEFENSE_BUFF",amount:8}},SWORD_COPPER:{id:"SWORD_COPPER",name:"Épée de Cuivre",type:"WEAPON",rarity:"COMMON",description:"+5 ATK, +1 DEF",char:"/",color:"#cd7f32",sprite:{path:"/assets/sprites/items/weapons/sword.png"},equippable:{slot:"WEAPON",bonuses:{attack:5,defense:1}}},SWORD_BRONZE:{id:"SWORD_BRONZE",name:"Épée de Bronze",type:"WEAPON",rarity:"UNCOMMON",description:"+8 ATK, +1 DEF",char:"/",color:"#b87333",sprite:{path:"/assets/sprites/items/weapons/sword.png"},equippable:{slot:"WEAPON",bonuses:{attack:8,defense:1}}},SWORD_IRON:{id:"SWORD_IRON",name:"Épée de Fer",type:"WEAPON",rarity:"RARE",description:"+12 ATK, +1 DEF",char:"/",color:"#a8a8a8",sprite:{path:"/assets/sprites/items/weapons/sword.png"},equippable:{slot:"WEAPON",bonuses:{attack:12,defense:1}}},SWORD_STEEL:{id:"SWORD_STEEL",name:"Épée d'Acier",type:"WEAPON",rarity:"RARE",description:"+16 ATK, +1 DEF",char:"/",color:"#c0c0c0",sprite:{path:"/assets/sprites/items/weapons/sword.png"},equippable:{slot:"WEAPON",bonuses:{attack:16,defense:1}}},SWORD_DIAMOND:{id:"SWORD_DIAMOND",name:"Épée de Diamant",type:"WEAPON",rarity:"LEGENDARY",description:"+20 ATK, +1 DEF",char:"/",color:"#b9f2ff",sprite:{path:"/assets/sprites/items/weapons/sword.png"},equippable:{slot:"WEAPON",bonuses:{attack:20,defense:1}}},AXE_COPPER:{id:"AXE_COPPER",name:"Hache de Cuivre",type:"WEAPON",rarity:"COMMON",description:"+7 ATK, -2 DEF",char:"¶",color:"#cd7f32",sprite:{path:"/assets/sprites/items/weapons/sword.png"},equippable:{slot:"WEAPON",bonuses:{attack:7,defense:-2}}},AXE_BRONZE:{id:"AXE_BRONZE",name:"Hache de Bronze",type:"WEAPON",rarity:"UNCOMMON",description:"+10 ATK, -2 DEF",char:"¶",color:"#b87333",sprite:{path:"/assets/sprites/items/weapons/sword.png"},equippable:{slot:"WEAPON",bonuses:{attack:10,defense:-2}}},AXE_IRON:{id:"AXE_IRON",name:"Hache de Fer",type:"WEAPON",rarity:"RARE",description:"+14 ATK, -2 DEF",char:"¶",color:"#a8a8a8",sprite:{path:"/assets/sprites/items/weapons/sword.png"},equippable:{slot:"WEAPON",bonuses:{attack:14,defense:-2}}},AXE_STEEL:{id:"AXE_STEEL",name:"Hache d'Acier",type:"WEAPON",rarity:"RARE",description:"+18 ATK, -2 DEF",char:"¶",color:"#c0c0c0",sprite:{path:"/assets/sprites/items/weapons/sword.png"},equippable:{slot:"WEAPON",bonuses:{attack:18,defense:-2}}},AXE_DIAMOND:{id:"AXE_DIAMOND",name:"Hache de Diamant",type:"WEAPON",rarity:"LEGENDARY",description:"+22 ATK, -2 DEF",char:"¶",color:"#b9f2ff",sprite:{path:"/assets/sprites/items/weapons/sword.png"},equippable:{slot:"WEAPON",bonuses:{attack:22,defense:-2}}},SPEAR_COPPER:{id:"SPEAR_COPPER",name:"Lance de Cuivre",type:"WEAPON",rarity:"COMMON",description:"+4 ATK, +3 DEF",char:"↑",color:"#cd7f32",sprite:{path:"/assets/sprites/items/weapons/sword.png"},equippable:{slot:"WEAPON",bonuses:{attack:4,defense:3}}},SPEAR_BRONZE:{id:"SPEAR_BRONZE",name:"Lance de Bronze",type:"WEAPON",rarity:"UNCOMMON",description:"+7 ATK, +3 DEF",char:"↑",color:"#b87333",sprite:{path:"/assets/sprites/items/weapons/sword.png"},equippable:{slot:"WEAPON",bonuses:{attack:7,defense:3}}},SPEAR_IRON:{id:"SPEAR_IRON",name:"Lance de Fer",type:"WEAPON",rarity:"RARE",description:"+11 ATK, +3 DEF",char:"↑",color:"#a8a8a8",sprite:{path:"/assets/sprites/items/weapons/sword.png"},equippable:{slot:"WEAPON",bonuses:{attack:11,defense:3}}},SPEAR_STEEL:{id:"SPEAR_STEEL",name:"Lance d'Acier",type:"WEAPON",rarity:"RARE",description:"+15 ATK, +3 DEF",char:"↑",color:"#c0c0c0",sprite:{path:"/assets/sprites/items/weapons/sword.png"},equippable:{slot:"WEAPON",bonuses:{attack:15,defense:3}}},SPEAR_DIAMOND:{id:"SPEAR_DIAMOND",name:"Lance de Diamant",type:"WEAPON",rarity:"LEGENDARY",description:"+19 ATK, +3 DEF",char:"↑",color:"#b9f2ff",sprite:{path:"/assets/sprites/items/weapons/sword.png"},equippable:{slot:"WEAPON",bonuses:{attack:19,defense:3}}},ARMOR_CLOTH_LIGHT:{id:"ARMOR_CLOTH_LIGHT",name:"Armure de Tissu",type:"ARMOR",rarity:"COMMON",description:"+2 DEF, +1 ATK",char:"[",color:"#8b7355",sprite:{path:"/assets/sprites/items/armors/armor.png"},equippable:{slot:"ARMOR",bonuses:{defense:2,attack:1}}},ARMOR_CLOTH_HEAVY:{id:"ARMOR_CLOTH_HEAVY",name:"Armure de Tissu Renforcée",type:"ARMOR",rarity:"COMMON",description:"+5 DEF, -1 ATK",char:"[",color:"#654321",sprite:{path:"/assets/sprites/items/armors/armor.png"},equippable:{slot:"ARMOR",bonuses:{defense:5,attack:-1}}},ARMOR_LEATHER_LIGHT:{id:"ARMOR_LEATHER_LIGHT",name:"Armure de Cuir",type:"ARMOR",rarity:"UNCOMMON",description:"+4 DEF, +2 ATK",char:"[",color:"#8b4513",sprite:{path:"/assets/sprites/items/armors/armor.png"},equippable:{slot:"ARMOR",bonuses:{defense:4,attack:2}}},ARMOR_LEATHER_HEAVY:{id:"ARMOR_LEATHER_HEAVY",name:"Armure de Cuir Renforcée",type:"ARMOR",rarity:"UNCOMMON",description:"+8 DEF, -2 ATK",char:"[",color:"#808080",sprite:{path:"/assets/sprites/items/armors/armor.png"},equippable:{slot:"ARMOR",bonuses:{defense:8,attack:-2}}},ARMOR_IRON_LIGHT:{id:"ARMOR_IRON_LIGHT",name:"Armure de Fer",type:"ARMOR",rarity:"RARE",description:"+7 DEF, +3 ATK",char:"[",color:"#a8a8a8",sprite:{path:"/assets/sprites/items/armors/armor.png"},equippable:{slot:"ARMOR",bonuses:{defense:7,attack:3}}},ARMOR_IRON_HEAVY:{id:"ARMOR_IRON_HEAVY",name:"Armure de Fer Renforcée",type:"ARMOR",rarity:"RARE",description:"+12 DEF, -3 ATK",char:"[",color:"#696969",sprite:{path:"/assets/sprites/items/armors/armor.png"},equippable:{slot:"ARMOR",bonuses:{defense:12,attack:-3}}},ARMOR_STEEL_LIGHT:{id:"ARMOR_STEEL_LIGHT",name:"Armure d'Acier",type:"ARMOR",rarity:"RARE",description:"+10 DEF, +4 ATK",char:"[",color:"#c0c0c0",sprite:{path:"/assets/sprites/items/armors/armor.png"},equippable:{slot:"ARMOR",bonuses:{defense:10,attack:4}}},ARMOR_STEEL_HEAVY:{id:"ARMOR_STEEL_HEAVY",name:"Armure d'Acier Renforcée",type:"ARMOR",rarity:"RARE",description:"+17 DEF, -4 ATK",char:"[",color:"#778899",sprite:{path:"/assets/sprites/items/armors/armor.png"},equippable:{slot:"ARMOR",bonuses:{defense:17,attack:-4}}},ARMOR_DIAMOND_LIGHT:{id:"ARMOR_DIAMOND_LIGHT",name:"Armure de Diamant",type:"ARMOR",rarity:"LEGENDARY",description:"+14 DEF, +5 ATK",char:"[",color:"#b9f2ff",sprite:{path:"/assets/sprites/items/armors/armor.png"},equippable:{slot:"ARMOR",bonuses:{defense:14,attack:5}}},ARMOR_DIAMOND_HEAVY:{id:"ARMOR_DIAMOND_HEAVY",name:"Armure de Diamant Renforcée",type:"ARMOR",rarity:"LEGENDARY",description:"+23 DEF, -5 ATK",char:"[",color:"#add8e6",sprite:{path:"/assets/sprites/items/armors/armor.png"},equippable:{slot:"ARMOR",bonuses:{defense:23,attack:-5}}},HELMET_CLOTH_LIGHT:{id:"HELMET_CLOTH_LIGHT",name:"Capuche de Tissu",type:"ARMOR",rarity:"COMMON",description:"+1 DEF, +1 ATK",char:"^",color:"#8b7355",sprite:{path:"/assets/sprites/items/armors/helmet.png"},equippable:{slot:"HELMET",bonuses:{defense:1,attack:1}}},HELMET_CLOTH_HEAVY:{id:"HELMET_CLOTH_HEAVY",name:"Capuche de Tissu Renforcée",type:"ARMOR",rarity:"COMMON",description:"+2 DEF, -1 ATK",char:"^",color:"#654321",sprite:{path:"/assets/sprites/items/armors/helmet.png"},equippable:{slot:"HELMET",bonuses:{defense:2,attack:-1}}},HELMET_LEATHER_LIGHT:{id:"HELMET_LEATHER_LIGHT",name:"Chapeau de Cuir",type:"ARMOR",rarity:"UNCOMMON",description:"+2 DEF, +1 ATK",char:"^",color:"#8b4513",sprite:{path:"/assets/sprites/items/armors/helmet.png"},equippable:{slot:"HELMET",bonuses:{defense:2,attack:1}}},HELMET_LEATHER_HEAVY:{id:"HELMET_LEATHER_HEAVY",name:"Chapeau de Cuir Renforcé",type:"ARMOR",rarity:"UNCOMMON",description:"+4 DEF, -1 ATK",char:"^",color:"#808080",sprite:{path:"/assets/sprites/items/armors/helmet.png"},equippable:{slot:"HELMET",bonuses:{defense:4,attack:-1}}},HELMET_IRON_LIGHT:{id:"HELMET_IRON_LIGHT",name:"Casque de Fer",type:"ARMOR",rarity:"RARE",description:"+3 DEF, +1 ATK",char:"^",color:"#a8a8a8",sprite:{path:"/assets/sprites/items/armors/helmet.png"},equippable:{slot:"HELMET",bonuses:{defense:3,attack:1}}},HELMET_IRON_HEAVY:{id:"HELMET_IRON_HEAVY",name:"Casque de Fer Renforcé",type:"ARMOR",rarity:"RARE",description:"+6 DEF, -1 ATK",char:"^",color:"#696969",sprite:{path:"/assets/sprites/items/armors/helmet.png"},equippable:{slot:"HELMET",bonuses:{defense:6,attack:-1}}},HELMET_STEEL_LIGHT:{id:"HELMET_STEEL_LIGHT",name:"Casque d'Acier",type:"ARMOR",rarity:"RARE",description:"+4 DEF, +1 ATK",char:"^",color:"#c0c0c0",sprite:{path:"/assets/sprites/items/armors/helmet.png"},equippable:{slot:"HELMET",bonuses:{defense:4,attack:1}}},HELMET_STEEL_HEAVY:{id:"HELMET_STEEL_HEAVY",name:"Casque d'Acier Renforcé",type:"ARMOR",rarity:"RARE",description:"+8 DEF, -1 ATK",char:"^",color:"#778899",sprite:{path:"/assets/sprites/items/armors/helmet.png"},equippable:{slot:"HELMET",bonuses:{defense:8,attack:-1}}},HELMET_DIAMOND_LIGHT:{id:"HELMET_DIAMOND_LIGHT",name:"Casque de Diamant",type:"ARMOR",rarity:"LEGENDARY",description:"+6 DEF, +2 ATK",char:"^",color:"#b9f2ff",sprite:{path:"/assets/sprites/items/armors/helmet.png"},equippable:{slot:"HELMET",bonuses:{defense:6,attack:2}}},HELMET_DIAMOND_HEAVY:{id:"HELMET_DIAMOND_HEAVY",name:"Casque de Diamant Renforcé",type:"ARMOR",rarity:"LEGENDARY",description:"+11 DEF, -2 ATK",char:"^",color:"#add8e6",sprite:{path:"/assets/sprites/items/armors/helmet.png"},equippable:{slot:"HELMET",bonuses:{defense:11,attack:-2}}},SHIELD_WOOD_LIGHT:{id:"SHIELD_WOOD_LIGHT",name:"Bouclier de Bois",type:"ARMOR",rarity:"COMMON",description:"+2 DEF",char:")",color:"#8b4513",sprite:{path:"/assets/sprites/items/armors/shield.png"},equippable:{slot:"OFFHAND",bonuses:{defense:2}}},SHIELD_WOOD_HEAVY:{id:"SHIELD_WOOD_HEAVY",name:"Bouclier de Bois Renforcé",type:"ARMOR",rarity:"COMMON",description:"+4 DEF, -2 ATK",char:")",color:"#654321",sprite:{path:"/assets/sprites/items/armors/shield.png"},equippable:{slot:"OFFHAND",bonuses:{defense:4,attack:-2}}},SHIELD_LEATHER_LIGHT:{id:"SHIELD_LEATHER_LIGHT",name:"Bouclier de Cuir",type:"ARMOR",rarity:"UNCOMMON",description:"+3 DEF",char:")",color:"#654321",sprite:{path:"/assets/sprites/items/armors/shield.png"},equippable:{slot:"OFFHAND",bonuses:{defense:3}}},SHIELD_LEATHER_HEAVY:{id:"SHIELD_LEATHER_HEAVY",name:"Bouclier de Cuir Renforcé",type:"ARMOR",rarity:"UNCOMMON",description:"+6 DEF, -2 ATK",char:")",color:"#808080",sprite:{path:"/assets/sprites/items/armors/shield.png"},equippable:{slot:"OFFHAND",bonuses:{defense:6,attack:-2}}},SHIELD_IRON_LIGHT:{id:"SHIELD_IRON_LIGHT",name:"Bouclier de Fer",type:"ARMOR",rarity:"RARE",description:"+5 DEF",char:")",color:"#a8a8a8",sprite:{path:"/assets/sprites/items/armors/shield.png"},equippable:{slot:"OFFHAND",bonuses:{defense:5}}},SHIELD_IRON_HEAVY:{id:"SHIELD_IRON_HEAVY",name:"Bouclier de Fer Renforcé",type:"ARMOR",rarity:"RARE",description:"+9 DEF, -3 ATK",char:")",color:"#696969",sprite:{path:"/assets/sprites/items/armors/shield.png"},equippable:{slot:"OFFHAND",bonuses:{defense:9,attack:-3}}},SHIELD_STEEL_LIGHT:{id:"SHIELD_STEEL_LIGHT",name:"Bouclier d'Acier",type:"ARMOR",rarity:"RARE",description:"+7 DEF",char:")",color:"#c0c0c0",sprite:{path:"/assets/sprites/items/armors/shield.png"},equippable:{slot:"OFFHAND",bonuses:{defense:7}}},SHIELD_STEEL_HEAVY:{id:"SHIELD_STEEL_HEAVY",name:"Bouclier d'Acier Renforcé",type:"ARMOR",rarity:"RARE",description:"+12 DEF, -3 ATK",char:")",color:"#778899",sprite:{path:"/assets/sprites/items/armors/shield.png"},equippable:{slot:"OFFHAND",bonuses:{defense:12,attack:-3}}},SHIELD_DIAMOND_LIGHT:{id:"SHIELD_DIAMOND_LIGHT",name:"Bouclier de Diamant",type:"ARMOR",rarity:"LEGENDARY",description:"+9 DEF",char:")",color:"#b9f2ff",sprite:{path:"/assets/sprites/items/armors/shield.png"},equippable:{slot:"OFFHAND",bonuses:{defense:9}}},SHIELD_DIAMOND_HEAVY:{id:"SHIELD_DIAMOND_HEAVY",name:"Bouclier de Diamant Renforcé",type:"ARMOR",rarity:"LEGENDARY",description:"+16 DEF, -4 ATK",char:")",color:"#add8e6",sprite:{path:"/assets/sprites/items/armors/shield.png"},equippable:{slot:"OFFHAND",bonuses:{defense:16,attack:-4}}},RING_STRENGTH:{id:"RING_STRENGTH",name:"Anneau de Force",type:"MISC",rarity:"UNCOMMON",description:"+3 ATK",char:"=",color:"#ff6347",sprite:{path:"/assets/sprites/items/accessories/ring.png"},equippable:{slot:"RING",bonuses:{attack:3}}},RING_PROTECTION:{id:"RING_PROTECTION",name:"Anneau de Protection",type:"MISC",rarity:"UNCOMMON",description:"+3 DEF",char:"=",color:"#4169e1",sprite:{path:"/assets/sprites/items/accessories/ring.png"},equippable:{slot:"RING",bonuses:{defense:3}}},RING_BERSERKER:{id:"RING_BERSERKER",name:"Anneau du Berserker",type:"MISC",rarity:"RARE",description:"+6 ATK, -3 DEF",char:"=",color:"#dc143c",sprite:{path:"/assets/sprites/items/accessories/ring.png"},equippable:{slot:"RING",bonuses:{attack:6,defense:-3}}},RING_GUARDIAN:{id:"RING_GUARDIAN",name:"Anneau du Gardien",type:"MISC",rarity:"RARE",description:"+6 DEF, -3 ATK",char:"=",color:"#4682b4",sprite:{path:"/assets/sprites/items/accessories/ring.png"},equippable:{slot:"RING",bonuses:{defense:6,attack:-3}}},RING_VITALITY:{id:"RING_VITALITY",name:"Anneau de Vitalité",type:"MISC",rarity:"RARE",description:"+25 MaxHP",char:"=",color:"#32cd32",sprite:{path:"/assets/sprites/items/accessories/ring.png"},equippable:{slot:"RING",bonuses:{maxHp:25}}},AMULET_REGENERATION:{id:"AMULET_REGENERATION",name:"Amulette de Régénération",type:"MISC",rarity:"RARE",description:"+1 HP/tour",char:'"',color:"#ff69b4",sprite:{path:"/assets/sprites/items/accessories/amulet.png"},equippable:{slot:"AMULET",bonuses:{regeneration:1}}},AMULET_MAGE:{id:"AMULET_MAGE",name:"Amulette du Mage",type:"MISC",rarity:"RARE",description:"+5 ATK, +5 DEF",char:'"',color:"#9370db",sprite:{path:"/assets/sprites/items/accessories/amulet.png"},equippable:{slot:"AMULET",bonuses:{attack:5,defense:5}}},AMULET_LEGENDARY:{id:"AMULET_LEGENDARY",name:"Amulette Légendaire",type:"MISC",rarity:"LEGENDARY",description:"+10 ATK, +10 DEF",char:'"',color:"#ffd700",sprite:{path:"/assets/sprites/items/accessories/amulet.png"},equippable:{slot:"AMULET",bonuses:{attack:10,defense:10}}},AMULET_YENDOR:{id:"AMULET_YENDOR",name:"Amulet of Yendor",type:"MISC",rarity:"LEGENDARY",description:"The objective of your quest. Holding it makes you feel like a winner.",char:"♀",color:"#d946ef",sprite:{path:"/assets/sprites/items/accessories/amulet.png"}}};function m(e){let t=u[e];if(!t)throw Error(`Unknown item template: ${e}`);return{name:t.name,renderable:{char:t.char,color:t.color,sprite:t.sprite},item:{type:t.type,rarity:t.rarity,description:t.description,templateId:e},...t.consumable&&{consumable:t.consumable},...t.equippable&&{equippable:t.equippable}}}e.s(["createItemFromTemplate",()=>m],54962)},64455,58881,54408,12828,e=>{"use strict";var t=e.i(43476),r=e.i(71645),s=e.i(71458),n=e.i(62972);function i(){let e=(0,r.useCallback)(()=>{n.audioManager.playUi("ui_click")},[]),t=(0,r.useCallback)(()=>{n.audioManager.playUi("ui_hover")},[]);return{playClick:e,playHover:t,playOpen:(0,r.useCallback)(()=>{n.audioManager.playUi("ui_open")},[]),playClose:(0,r.useCallback)(()=>{n.audioManager.playUi("ui_close")},[])}}e.s(["useUiSound",()=>i],58881),e.s(["SettingsModal",0,({isOpen:e,onClose:n})=>{let o=(0,s.useAudio)(),{playClick:a,playHover:l,playOpen:c,playClose:p}=i(),[d,u]=(0,r.useState)(o.getSettings()),m=(0,r.useCallback)(()=>{p(),n()},[p,n]);if((0,r.useEffect)(()=>{e&&c()},[e,c]),!e)return null;let f=(e,t)=>{let r={...d,[e]:t};u(r),o.updateSettings(r)};return(0,t.jsx)("div",{className:"fixed inset-0 z-[10000] flex items-center justify-center bg-black/80 backdrop-blur-sm",style:{position:"fixed",top:0,left:0,right:0,bottom:0,zIndex:1e4,backgroundColor:"rgba(0, 0, 0, 0.8)",backdropFilter:"blur(4px)",display:"flex",alignItems:"center",justifyContent:"center"},children:(0,t.jsxs)("div",{className:"w-full max-w-md bg-zinc-900 border border-zinc-700 rounded-lg shadow-2xl p-6",onClick:e=>e.stopPropagation(),style:{width:"100%",maxWidth:"28rem",backgroundColor:"#18181b",border:"1px solid #3f3f46",borderRadius:"8px",padding:"24px"},children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-6 border-b border-zinc-700 pb-4",style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"24px",borderBottom:"1px solid #3f3f46",paddingBottom:"16px"},children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-zinc-100",style:{fontSize:"24px",fontWeight:"bold",color:"#f4f4f5"},children:"Settings"}),(0,t.jsx)("button",{onClick:m,onMouseEnter:l,className:"text-zinc-400 hover:text-white transition-colors text-2xl",style:{color:"#a1a1aa",fontSize:"24px",background:"none",border:"none",cursor:"pointer",transition:"color 0.2s"},onMouseOver:e=>{e.currentTarget.style.color="#fff"},onMouseOut:e=>{e.currentTarget.style.color="#a1a1aa"},children:"×"})]}),(0,t.jsxs)("div",{className:"space-y-6",style:{display:"flex",flexDirection:"column",gap:"24px"},children:[(0,t.jsx)("h3",{className:"text-xl font-semibold text-zinc-300",style:{fontSize:"20px",fontWeight:"600",color:"#d4d4d8"},children:"Audio"}),(0,t.jsxs)("div",{className:"space-y-4",style:{display:"flex",flexDirection:"column",gap:"16px"},children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex justify-between mb-2",style:{display:"flex",justifyContent:"space-between",marginBottom:"8px"},children:[(0,t.jsx)("label",{className:"text-sm font-medium text-zinc-400",style:{fontSize:"14px",fontWeight:"500",color:"#a1a1aa"},children:"Master Volume"}),(0,t.jsxs)("span",{className:"text-sm text-zinc-500",style:{fontSize:"14px",color:"#71717a"},children:[Math.round(100*d.masterVolume),"%"]})]}),(0,t.jsx)("input",{type:"range",min:"0",max:"1",step:"0.05",value:d.masterVolume,onChange:e=>f("masterVolume",parseFloat(e.target.value)),className:"w-full h-2 bg-zinc-700 rounded-lg appearance-none cursor-pointer accent-cyan-500",style:{width:"100%",height:"8px",backgroundColor:"#3f3f46",borderRadius:"8px",cursor:"pointer"}})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex justify-between mb-2",style:{display:"flex",justifyContent:"space-between",marginBottom:"8px"},children:[(0,t.jsx)("label",{className:"text-sm font-medium text-zinc-400",style:{fontSize:"14px",fontWeight:"500",color:"#a1a1aa"},children:"Music Volume"}),(0,t.jsxs)("span",{className:"text-sm text-zinc-500",style:{fontSize:"14px",color:"#71717a"},children:[Math.round(100*d.bgmVolume),"%"]})]}),(0,t.jsx)("input",{type:"range",min:"0",max:"1",step:"0.05",value:d.bgmVolume,onChange:e=>f("bgmVolume",parseFloat(e.target.value)),className:"w-full h-2 bg-zinc-700 rounded-lg appearance-none cursor-pointer accent-cyan-500",style:{width:"100%",height:"8px",backgroundColor:"#3f3f46",borderRadius:"8px",cursor:"pointer"}})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex justify-between mb-2",style:{display:"flex",justifyContent:"space-between",marginBottom:"8px"},children:[(0,t.jsx)("label",{className:"text-sm font-medium text-zinc-400",style:{fontSize:"14px",fontWeight:"500",color:"#a1a1aa"},children:"SFX Volume"}),(0,t.jsxs)("span",{className:"text-sm text-zinc-500",style:{fontSize:"14px",color:"#71717a"},children:[Math.round(100*d.sfxVolume),"%"]})]}),(0,t.jsx)("input",{type:"range",min:"0",max:"1",step:"0.05",value:d.sfxVolume,onChange:e=>{f("sfxVolume",parseFloat(e.target.value)),Math.random()>.7&&a()},className:"w-full h-2 bg-zinc-700 rounded-lg appearance-none cursor-pointer accent-cyan-500",style:{width:"100%",height:"8px",backgroundColor:"#3f3f46",borderRadius:"8px",cursor:"pointer"}})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex justify-between mb-2",style:{display:"flex",justifyContent:"space-between",marginBottom:"8px"},children:[(0,t.jsx)("label",{className:"text-sm font-medium text-zinc-400",style:{fontSize:"14px",fontWeight:"500",color:"#a1a1aa"},children:"UI Volume"}),(0,t.jsxs)("span",{className:"text-sm text-zinc-500",style:{fontSize:"14px",color:"#71717a"},children:[Math.round(100*d.uiVolume),"%"]})]}),(0,t.jsx)("input",{type:"range",min:"0",max:"1",step:"0.05",value:d.uiVolume,onChange:e=>{f("uiVolume",parseFloat(e.target.value)),a()},className:"w-full h-2 bg-zinc-700 rounded-lg appearance-none cursor-pointer accent-cyan-500",style:{width:"100%",height:"8px",backgroundColor:"#3f3f46",borderRadius:"8px",cursor:"pointer"}})]}),(0,t.jsxs)("div",{className:"flex items-center gap-3 pt-2",style:{display:"flex",alignItems:"center",gap:"12px",paddingTop:"8px"},children:[(0,t.jsx)("input",{type:"checkbox",id:"mute-all",checked:d.muted,onChange:e=>f("muted",e.target.checked),className:"w-5 h-5 text-cyan-600 bg-zinc-700 border-zinc-600 rounded focus:ring-cyan-500 focus:ring-2",style:{width:"20px",height:"20px",cursor:"pointer"}}),(0,t.jsx)("label",{htmlFor:"mute-all",className:"text-zinc-300 font-medium cursor-pointer",style:{color:"#d4d4d8",fontWeight:"500",cursor:"pointer"},children:"Mute All Audio"})]})]})]}),(0,t.jsx)("div",{className:"mt-8 pt-6 border-t border-zinc-700 flex justify-end",style:{marginTop:"32px",paddingTop:"24px",borderTop:"1px solid #3f3f46",display:"flex",justifyContent:"flex-end"},children:(0,t.jsx)("button",{onClick:m,onMouseEnter:l,className:"px-4 py-2 bg-cyan-700 hover:bg-cyan-600 text-white rounded transition-colors",style:{padding:"8px 16px",backgroundColor:"#0e7490",color:"#fff",borderRadius:"4px",border:"none",cursor:"pointer",transition:"background-color 0.2s"},onMouseOver:e=>{e.currentTarget.style.backgroundColor="#0891b2"},onMouseOut:e=>{e.currentTarget.style.backgroundColor="#0e7490"},children:"Close"})})]})})}],64455),e.s(["HelpModal",0,({isOpen:e,onClose:s})=>{let{playHover:n,playOpen:o,playClose:a}=i(),l=(0,r.useCallback)(()=>{a(),s()},[a,s]);return((0,r.useEffect)(()=>{e&&o()},[e,o]),e)?(0,t.jsx)("div",{className:"fixed inset-0 z-[10000] flex items-center justify-center bg-black/80 backdrop-blur-sm",style:{position:"fixed",top:0,left:0,right:0,bottom:0,zIndex:1e4,backgroundColor:"rgba(0, 0, 0, 0.8)",backdropFilter:"blur(4px)",display:"flex",alignItems:"center",justifyContent:"center"},children:(0,t.jsxs)("div",{className:"w-full max-w-3xl bg-gray-900 border-4 border-gray-700 rounded-lg shadow-2xl p-6",style:{width:"100%",maxWidth:"48rem",maxHeight:"90vh",backgroundColor:"#111827",border:"4px solid #374151",borderRadius:"8px",padding:"24px",display:"flex",flexDirection:"column"},children:[(0,t.jsxs)("div",{className:"flex items-center justify-between border-b-2 border-gray-700 pb-4 mb-6",style:{display:"flex",alignItems:"center",justifyContent:"space-between",borderBottom:"2px solid #374151",paddingBottom:"16px",marginBottom:"24px",flexShrink:0},children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",style:{display:"flex",alignItems:"center",gap:"12px"},children:[(0,t.jsx)("span",{className:"text-3xl",style:{fontSize:"30px"},children:"❓"}),(0,t.jsx)("h2",{className:"text-2xl font-bold text-yellow-500 font-mono",style:{fontSize:"24px",fontWeight:"bold",color:"#eab308",fontFamily:"monospace"},children:"AIDE"})]}),(0,t.jsx)("button",{onClick:l,onMouseEnter:n,className:"text-gray-400 hover:text-white text-2xl transition-colors",style:{color:"#9ca3af",fontSize:"24px",background:"none",border:"none",cursor:"pointer",transition:"color 0.2s"},onMouseOver:e=>{e.currentTarget.style.color="#fff"},onMouseOut:e=>{e.currentTarget.style.color="#9ca3af"},children:"×"})]}),(0,t.jsxs)("div",{className:"space-y-6",style:{display:"flex",flexDirection:"column",gap:"24px",overflowY:"auto",flex:1,minHeight:0,paddingRight:"8px"},children:[(0,t.jsxs)("div",{className:"bg-yellow-900/20 border-2 border-yellow-600 rounded-lg p-4",style:{backgroundColor:"rgba(113, 63, 18, 0.2)",border:"2px solid #ca8a04",borderRadius:"8px",padding:"16px"},children:[(0,t.jsxs)("h3",{className:"text-xl font-bold text-yellow-400 mb-3 font-mono flex items-center gap-2",style:{fontSize:"20px",fontWeight:"bold",color:"#facc15",marginBottom:"12px",fontFamily:"monospace",display:"flex",alignItems:"center",gap:"8px"},children:[(0,t.jsx)("span",{children:"⚡"}),(0,t.jsx)("span",{children:"ACTION PRINCIPALE"})]}),(0,t.jsx)("div",{className:"space-y-3",style:{display:"flex",flexDirection:"column",gap:"12px"},children:(0,t.jsxs)("div",{className:"flex items-start gap-3",style:{display:"flex",alignItems:"flex-start",gap:"12px"},children:[(0,t.jsx)("kbd",{className:"px-4 py-2 bg-yellow-600 text-black font-bold rounded text-lg min-w-[100px] text-center",style:{padding:"8px 16px",backgroundColor:"#ca8a04",color:"#000",fontWeight:"bold",borderRadius:"4px",fontSize:"18px",minWidth:"100px",textAlign:"center"},children:"SPACE"}),(0,t.jsxs)("div",{className:"flex-1",style:{flex:1},children:[(0,t.jsx)("p",{className:"text-white font-bold mb-1",style:{color:"#fff",fontWeight:"bold",marginBottom:"4px"},children:"Fait automatiquement la bonne action !"}),(0,t.jsx)("p",{className:"text-sm text-gray-300 mb-2",style:{fontSize:"14px",color:"#d1d5db",marginBottom:"8px"},children:"Regardez en bas de l'écran, le jeu vous dit ce que cette touche va faire."}),(0,t.jsxs)("ul",{className:"text-xs text-gray-400 space-y-1 ml-4",style:{fontSize:"12px",color:"#9ca3af",marginLeft:"16px",listStyle:"none",padding:0},children:[(0,t.jsx)("li",{style:{marginBottom:"4px"},children:"• Sur un objet → Le ramasse"}),(0,t.jsx)("li",{style:{marginBottom:"4px"},children:"• Sur des escaliers → Descend"}),(0,t.jsx)("li",{style:{marginBottom:"4px"},children:"• Ailleurs → Attend / Passe votre tour"}),(0,t.jsx)("li",{style:{marginBottom:"4px"},children:"• Dans l'inventaire → Utilise / Équipe / Droppe selon l'objet"})]})]})]})})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-6",style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"24px"},children:[(0,t.jsxs)("div",{className:"bg-gray-800 rounded-lg p-4",style:{backgroundColor:"#1f2937",borderRadius:"8px",padding:"16px"},children:[(0,t.jsx)("h3",{className:"text-lg font-bold text-cyan-400 mb-3 font-mono",style:{fontSize:"18px",fontWeight:"bold",color:"#22d3ee",marginBottom:"12px",fontFamily:"monospace"},children:"🎮 SE DÉPLACER"}),(0,t.jsx)("div",{className:"space-y-2 text-sm",style:{display:"flex",flexDirection:"column",gap:"8px",fontSize:"14px"},children:(0,t.jsxs)("div",{children:[(0,t.jsx)("kbd",{className:"px-2 py-1 bg-gray-700 text-white rounded text-xs",style:{padding:"4px 8px",backgroundColor:"#374151",color:"#fff",borderRadius:"4px",fontSize:"12px"},children:"↑ ↓ ← →"}),(0,t.jsx)("p",{className:"text-gray-300 mt-1",style:{color:"#d1d5db",marginTop:"4px"},children:"Flèches directionnelles (4 directions)"})]})})]}),(0,t.jsxs)("div",{className:"bg-gray-800 rounded-lg p-4",style:{backgroundColor:"#1f2937",borderRadius:"8px",padding:"16px"},children:[(0,t.jsx)("h3",{className:"text-lg font-bold text-cyan-400 mb-3 font-mono",style:{fontSize:"18px",fontWeight:"bold",color:"#22d3ee",marginBottom:"12px",fontFamily:"monospace"},children:"📋 OUVRIR LES MENUS"}),(0,t.jsxs)("div",{className:"space-y-2 text-sm",style:{display:"flex",flexDirection:"column",gap:"8px",fontSize:"14px"},children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",style:{display:"flex",alignItems:"center",gap:"8px"},children:[(0,t.jsx)("kbd",{className:"px-2 py-1 bg-gray-700 text-white rounded font-bold min-w-[32px] text-center",style:{padding:"4px 8px",backgroundColor:"#374151",color:"#fff",borderRadius:"4px",fontWeight:"bold",minWidth:"32px",textAlign:"center"},children:"I"}),(0,t.jsx)("span",{className:"text-gray-300",style:{color:"#d1d5db"},children:"Ouvrir l'inventaire"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",style:{display:"flex",alignItems:"center",gap:"8px"},children:[(0,t.jsx)("kbd",{className:"px-2 py-1 bg-gray-700 text-white rounded font-bold min-w-[32px] text-center",style:{padding:"4px 8px",backgroundColor:"#374151",color:"#fff",borderRadius:"4px",fontWeight:"bold",minWidth:"32px",textAlign:"center"},children:"C"}),(0,t.jsx)("span",{className:"text-gray-300",style:{color:"#d1d5db"},children:"Voir le personnage"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",style:{display:"flex",alignItems:"center",gap:"8px"},children:[(0,t.jsx)("kbd",{className:"px-2 py-1 bg-gray-700 text-white rounded font-bold min-w-[32px] text-center",style:{padding:"4px 8px",backgroundColor:"#374151",color:"#fff",borderRadius:"4px",fontWeight:"bold",minWidth:"32px",textAlign:"center"},children:"H"}),(0,t.jsx)("span",{className:"text-gray-300",style:{color:"#d1d5db"},children:"Afficher l'aide"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",style:{display:"flex",alignItems:"center",gap:"8px"},children:[(0,t.jsx)("kbd",{className:"px-2 py-1 bg-gray-700 text-white rounded font-bold min-w-[32px] text-center",style:{padding:"4px 8px",backgroundColor:"#374151",color:"#fff",borderRadius:"4px",fontWeight:"bold",minWidth:"32px",textAlign:"center"},children:"ESC"}),(0,t.jsx)("span",{className:"text-gray-300",style:{color:"#d1d5db"},children:"Ouvrir les paramètres"})]})]})]}),(0,t.jsxs)("div",{className:"bg-gray-800 rounded-lg p-4",style:{backgroundColor:"#1f2937",borderRadius:"8px",padding:"16px"},children:[(0,t.jsx)("h3",{className:"text-lg font-bold text-cyan-400 mb-3 font-mono",style:{fontSize:"18px",fontWeight:"bold",color:"#22d3ee",marginBottom:"12px",fontFamily:"monospace"},children:"🎒 DANS L'INVENTAIRE"}),(0,t.jsxs)("div",{className:"space-y-2 text-sm",style:{display:"flex",flexDirection:"column",gap:"8px",fontSize:"14px"},children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("kbd",{className:"px-2 py-1 bg-gray-700 text-white rounded text-xs",style:{padding:"4px 8px",backgroundColor:"#374151",color:"#fff",borderRadius:"4px",fontSize:"12px"},children:"↑ ↓"}),(0,t.jsx)("p",{className:"text-gray-300 mt-1",style:{color:"#d1d5db",marginTop:"4px"},children:"Sélectionner un objet"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("kbd",{className:"px-2 py-1 bg-gray-700 text-white rounded text-xs",style:{padding:"4px 8px",backgroundColor:"#374151",color:"#fff",borderRadius:"4px",fontSize:"12px"},children:"← →"}),(0,t.jsx)("p",{className:"text-gray-300 mt-1",style:{color:"#d1d5db",marginTop:"4px"},children:"Changer de catégorie d'objets"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("kbd",{className:"px-3 py-1 bg-yellow-600 text-black rounded font-bold",style:{padding:"4px 12px",backgroundColor:"#ca8a04",color:"#000",borderRadius:"4px",fontWeight:"bold"},children:"SPACE"}),(0,t.jsx)("p",{className:"text-gray-300 mt-1",style:{color:"#d1d5db",marginTop:"4px"},children:"Utiliser l'objet sélectionné"})]})]})]}),(0,t.jsxs)("div",{className:"bg-gray-800 rounded-lg p-4",style:{backgroundColor:"#1f2937",borderRadius:"8px",padding:"16px"},children:[(0,t.jsx)("h3",{className:"text-lg font-bold text-cyan-400 mb-3 font-mono",style:{fontSize:"18px",fontWeight:"bold",color:"#22d3ee",marginBottom:"12px",fontFamily:"monospace"},children:"💾 SAUVEGARDER"}),(0,t.jsxs)("div",{className:"space-y-2 text-sm",style:{display:"flex",flexDirection:"column",gap:"8px",fontSize:"14px"},children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",style:{display:"flex",alignItems:"center",gap:"8px"},children:[(0,t.jsx)("kbd",{className:"px-2 py-1 bg-gray-700 text-white rounded font-bold min-w-[32px] text-center",style:{padding:"4px 8px",backgroundColor:"#374151",color:"#fff",borderRadius:"4px",fontWeight:"bold",minWidth:"32px",textAlign:"center"},children:"S"}),(0,t.jsx)("span",{className:"text-gray-300",style:{color:"#d1d5db"},children:"Sauvegarder la partie"})]}),(0,t.jsx)("p",{className:"text-xs text-gray-500 mt-2",style:{fontSize:"12px",color:"#6b7280",marginTop:"8px"},children:"Le jeu se sauvegarde aussi automatiquement quand vous changez d'étage."})]})]})]}),(0,t.jsxs)("div",{className:"bg-blue-900/20 border-2 border-blue-600 rounded-lg p-4",style:{backgroundColor:"rgba(30, 58, 138, 0.2)",border:"2px solid #2563eb",borderRadius:"8px",padding:"16px"},children:[(0,t.jsx)("h3",{className:"text-lg font-bold text-blue-400 mb-2 font-mono",style:{fontSize:"18px",fontWeight:"bold",color:"#60a5fa",marginBottom:"8px",fontFamily:"monospace"},children:"💡 ASTUCE"}),(0,t.jsx)("p",{className:"text-sm text-gray-300",style:{fontSize:"14px",color:"#d1d5db"},children:"Le jeu affiche toujours en bas de l'écran ce que tu as fait !"})]})]}),(0,t.jsx)("div",{className:"border-t-2 border-gray-700 mt-6 pt-4 flex justify-center",style:{borderTop:"2px solid #374151",marginTop:"24px",paddingTop:"16px",display:"flex",justifyContent:"center",flexShrink:0},children:(0,t.jsx)("button",{onClick:l,onMouseEnter:n,className:"px-6 py-2 bg-cyan-700 hover:bg-cyan-600 text-white rounded font-mono font-bold transition-colors",style:{padding:"8px 24px",backgroundColor:"#0e7490",color:"#fff",borderRadius:"4px",fontFamily:"monospace",fontWeight:"bold",border:"none",cursor:"pointer",transition:"background-color 0.2s"},onMouseOver:e=>{e.currentTarget.style.backgroundColor="#0891b2"},onMouseOut:e=>{e.currentTarget.style.backgroundColor="#0e7490"},children:"Fermer [H / ESC]"})})]})}):null}],54408);let o="tutorial_village_hidden",a="tutorial_dungeon_hidden";function l(){let[e,t]=(0,r.useState)(!0),[s,n]=(0,r.useState)(!0);(0,r.useEffect)(()=>{let e="true"===localStorage.getItem(o),r="true"===localStorage.getItem(a);t(e),n(r)},[]);let i=(0,r.useCallback)(()=>{localStorage.setItem(o,"true"),t(!0)},[]),l=(0,r.useCallback)(()=>{localStorage.setItem(a,"true"),n(!0)},[]),c=(0,r.useCallback)(()=>{localStorage.removeItem(o),t(!1)},[]);return{isVillageTutorialHidden:e,isDungeonTutorialHidden:s,hideVillageTutorial:i,hideDungeonTutorial:l,showVillageTutorial:c,showDungeonTutorial:(0,r.useCallback)(()=>{localStorage.removeItem(a),n(!1)},[]),resetAllTutorials:(0,r.useCallback)(()=>{localStorage.removeItem(o),localStorage.removeItem(a),t(!1),n(!1)},[])}}e.s(["useTutorialPreferences",()=>l],12828)}]);